<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>IslandoraFedoraAPI: FedoraApiA Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">IslandoraFedoraAPI
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classFedoraApiA-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FedoraApiA Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements the Fedora API-A interface.  
 <a href="classFedoraApiA.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aba09543696e28d104baa85a42400d4d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#aba09543696e28d104baa85a42400d4d8">__construct</a> (<a class="el" href="classRepositoryConnection.html">RepositoryConnection</a> $connection, <a class="el" href="classFedoraApiSerializer.html">FedoraApiSerializer</a> $serializer)</td></tr>
<tr class="memdesc:aba09543696e28d104baa85a42400d4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the new <a class="el" href="classFedoraApiA.html" title="This class implements the Fedora API-A interface.">FedoraApiA</a> object.  <a href="#aba09543696e28d104baa85a42400d4d8"></a><br/></td></tr>
<tr class="separator:aba09543696e28d104baa85a42400d4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c2a576a8fdbb0d1e254f315d3640ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a17c2a576a8fdbb0d1e254f315d3640ef">describeRepository</a> ()</td></tr>
<tr class="memdesc:a17c2a576a8fdbb0d1e254f315d3640ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns basic information about the Repository.  <a href="#a17c2a576a8fdbb0d1e254f315d3640ef"></a><br/></td></tr>
<tr class="separator:a17c2a576a8fdbb0d1e254f315d3640ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014dc766356545761fe7c7bdad975457"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a014dc766356545761fe7c7bdad975457">findObjects</a> ($type, $query, $max_results=NULL, $display_fields=array('pid', 'title'))</td></tr>
<tr class="memdesc:a014dc766356545761fe7c7bdad975457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query fedora to return a list of objects.  <a href="#a014dc766356545761fe7c7bdad975457"></a><br/></td></tr>
<tr class="separator:a014dc766356545761fe7c7bdad975457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accde22442ac4a85842a7b672bc34f207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#accde22442ac4a85842a7b672bc34f207">resumeFindObjects</a> ($session_token)</td></tr>
<tr class="memdesc:accde22442ac4a85842a7b672bc34f207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a session key returned from findObject, this will return the next set of objects.  <a href="#accde22442ac4a85842a7b672bc34f207"></a><br/></td></tr>
<tr class="separator:accde22442ac4a85842a7b672bc34f207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55183d69331451f172bc72c25860c822"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a55183d69331451f172bc72c25860c822">getDatastreamDissemination</a> ($pid, $dsid, $as_of_date_time=NULL, $file=NULL)</td></tr>
<tr class="memdesc:a55183d69331451f172bc72c25860c822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default dissemination of a datastream.  <a href="#a55183d69331451f172bc72c25860c822"></a><br/></td></tr>
<tr class="separator:a55183d69331451f172bc72c25860c822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931feb04842e1cc5377185590bc26106"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a931feb04842e1cc5377185590bc26106">getDissemination</a> ($pid, $sdef_pid, $method, $method_parameters=NULL)</td></tr>
<tr class="memdesc:a931feb04842e1cc5377185590bc26106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a datastream dissemination from Fedora.  <a href="#a931feb04842e1cc5377185590bc26106"></a><br/></td></tr>
<tr class="separator:a931feb04842e1cc5377185590bc26106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25933bf598542c5f4d9526ef87b1d9c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a25933bf598542c5f4d9526ef87b1d9c6">getObjectHistory</a> ($pid)</td></tr>
<tr class="memdesc:a25933bf598542c5f4d9526ef87b1d9c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the change history for the object.  <a href="#a25933bf598542c5f4d9526ef87b1d9c6"></a><br/></td></tr>
<tr class="separator:a25933bf598542c5f4d9526ef87b1d9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c037990c61315ebc482b224a12fc068"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a0c037990c61315ebc482b224a12fc068">getObjectProfile</a> ($pid, $as_of_date_time=NULL)</td></tr>
<tr class="memdesc:a0c037990c61315ebc482b224a12fc068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the getObjectProfile Fedora API-A method.  <a href="#a0c037990c61315ebc482b224a12fc068"></a><br/></td></tr>
<tr class="separator:a0c037990c61315ebc482b224a12fc068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551735de70c2c89b11a9e0c8d2f39929"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a551735de70c2c89b11a9e0c8d2f39929">listDatastreams</a> ($pid, $as_of_date_time=NULL)</td></tr>
<tr class="memdesc:a551735de70c2c89b11a9e0c8d2f39929"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all the datastreams that are associated with this PID.  <a href="#a551735de70c2c89b11a9e0c8d2f39929"></a><br/></td></tr>
<tr class="separator:a551735de70c2c89b11a9e0c8d2f39929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a0ba60cbc3e599ec72a41260c214ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFedoraApiA.html#a77a0ba60cbc3e599ec72a41260c214ed">listMethods</a> ($pid, $sdef_pid= '', $as_of_date_time=NULL)</td></tr>
<tr class="memdesc:a77a0ba60cbc3e599ec72a41260c214ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the listMethods Fedora API-A method.  <a href="#a77a0ba60cbc3e599ec72a41260c214ed"></a><br/></td></tr>
<tr class="separator:a77a0ba60cbc3e599ec72a41260c214ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad1397eee555ccbcea165a09e510b6f98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1397eee555ccbcea165a09e510b6f98"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$connection</b></td></tr>
<tr class="separator:ad1397eee555ccbcea165a09e510b6f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af236e52ddcbb074a3c4e7e6824dd850a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af236e52ddcbb074a3c4e7e6824dd850a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$serializer</b></td></tr>
<tr class="separator:af236e52ddcbb074a3c4e7e6824dd850a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements the Fedora API-A interface. </p>
<p>This is a light wrapper around the Fedora interface. Very little attempt is put into putting things into native PHP datastructures.</p>
<p>See this page for more information: <a href="https://wiki.duraspace.org/display/FEDORA35/REST+API">https://wiki.duraspace.org/display/FEDORA35/REST+API</a> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aba09543696e28d104baa85a42400d4d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::__construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRepositoryConnection.html">RepositoryConnection</a>&#160;</td>
          <td class="paramname"><em>$connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFedoraApiSerializer.html">FedoraApiSerializer</a>&#160;</td>
          <td class="paramname"><em>$serializer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the new <a class="el" href="classFedoraApiA.html" title="This class implements the Fedora API-A interface.">FedoraApiA</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="classRepositoryConnection.html" title="Specific RepositoryConfig implementation that extends the CurlConnection class so that we can do spec...">RepositoryConnection</a></td><td class="paramname">$connection</td><td>Takes the Respository Connection object for the Respository this API should connect to. </td></tr>
    <tr><td class="paramtype"><a class="el" href="classFedoraApiSerializer.html" title="A class to Serialize the XML responses from Fedora into PHP arrays.">FedoraApiSerializer</a></td><td class="paramname">$serializer</td><td>Takes the serializer object to that will be used to serialze the XML Fedora returns. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a17c2a576a8fdbb0d1e254f315d3640ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::describeRepository </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns basic information about the Repository. </p>
<p>This is listed as an unimplemented function in the official API for Fedora. However other libraries connecting to the Fedora REST interaface use this so we are including it here. It may change in the future.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() An array describing the repository. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">    [repositoryName] =&gt; Fedora Repository</div>
<div class="line">    [repositoryBaseURL] =&gt; http:<span class="comment">//localhost:8080/fedora</span></div>
<div class="line">    [repositoryVersion] =&gt; 3.4.1</div>
<div class="line">    [repositoryPID] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [PID-namespaceIdentifier] =&gt; changeme</div>
<div class="line">            [PID-delimiter] =&gt; :</div>
<div class="line">            [PID-sample] =&gt; changeme:100</div>
<div class="line">            [retainPID] =&gt; *</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [repositoryOAI-identifier] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [OAI-namespaceIdentifier] =&gt; example.org</div>
<div class="line">            [OAI-delimiter] =&gt; :</div>
<div class="line">            [OAI-sample] =&gt; oai:example.org:changeme:100</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [sampleSearch-URL] =&gt; http:<span class="comment">//localhost:8080/fedora/objects</span></div>
<div class="line">    [sampleAccess-URL] =&gt; http:<span class="comment">//localhost:8080/fedora/objects/demo:5</span></div>
<div class="line">    [sampleOAI-URL] =&gt; http:<span class="comment">//localhost:8080/fedora/oai?verb=Identify</span></div>
<div class="line">    [adminEmail] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [0] =&gt; bob@example.org</div>
<div class="line">            [1] =&gt; sally@example.org</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a014dc766356545761fe7c7bdad975457"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::findObjects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$max_results</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$display_fields</em> = <code>array('pid',&#160;'title')</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query fedora to return a list of objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>The type of query. Decides the format of the next parameter. Valid options are:<ul>
<li>query: specific query on certain fields</li>
<li>terms: search in any field </li>
</ul>
</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The format of this parameter depends on what was passed to type. The formats are:<ul>
<li>query: A sequence of space-separated conditions. A condition consists of a metadata element name followed directly by an operator, followed directly by a value. Valid element names are (pid, label, state, ownerId, cDate, mDate, dcmDate, title, creator, subject, description, publisher, contributor, date, type, format, identifier, source, language, relation, coverage, rights). Valid operators are: contains (~), equals (=), greater than (&gt;), less than (&lt;), greater than or equals (&gt;=), less than or equals (&lt;=). The contains (~) operator may be used in combination with the ? and * wildcards to query for simple string patterns. Values may be any string. If the string contains a space, the value should begin and end with a single quote character ('). If all conditions are met for an object, the object is considered a match.</li>
<li>terms: A phrase represented as a sequence of characters (including the ? and * wildcards) for the search. If this sequence is found in any of the fields for an object, the object is considered a match. </li>
</ul>
</td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$max_results</td><td>(optional) Default: 25. The maximum number of results that the server should provide at once. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$display_fields</td><td>(optional) Default: array('pid', 'title'). The fields to be returned as an indexed array. Valid element names are the same as the ones given for the query parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() The results are returned in an array key called 'results'. If there are more results that aren't returned then the search session information is contained in a key called 'session'. Note that it is possible for some display fields to be multivalued, such as identifier (DC allows multiple DC identifier results) in the case there are multiple results an array is returned instread of a string, this indexed array contains all of the values. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">   [session] =&gt; Array</div>
<div class="line">       (</div>
<div class="line">           [token] =&gt; 96b2604f040067645f45daf029062d6e</div>
<div class="line">           [cursor] =&gt; 0</div>
<div class="line">           [expirationDate] =&gt; 2012-03-07T14:28:24.886Z</div>
<div class="line">       )</div>
<div class="line"></div>
<div class="line">   [results] =&gt; Array</div>
<div class="line">       (</div>
<div class="line">           [0] =&gt; Array</div>
<div class="line">               (</div>
<div class="line">                   [pid] =&gt; islandora:collectionCModel</div>
<div class="line">                   [title] =&gt; Islandora Collection Content Model</div>
<div class="line">                   [identifier] =&gt; Contents of DC:Identifier</div>
<div class="line">               )</div>
<div class="line"></div>
<div class="line">           [1] =&gt; Array</div>
<div class="line">               (</div>
<div class="line">                   [pid] =&gt; islandora:testCModel</div>
<div class="line">                   [title] =&gt; Test content model <span class="keywordflow">for</span> Ari</div>
<div class="line">                   [identifier] =&gt; Array</div>
<div class="line">                       (</div>
<div class="line">                           [0] =&gt; Contents of first DC:Identifier</div>
<div class="line">                           [1] =&gt; Contents of seconds DC:Identifier</div>
<div class="line">                       )</div>
<div class="line"></div>
<div class="line">               )</div>
<div class="line"></div>
<div class="line">       )</div>
<div class="line"></div>
<div class="line"> )</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a55183d69331451f172bc72c25860c822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::getDatastreamDissemination </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$as_of_date_time</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$file</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the default dissemination of a datastream. </p>
<p>(Get the contents.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">String</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$dsid</td><td>Datastream identifier. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$as_of_date_time</td><td>(optional) Indicates that the result should be relative to the digital object as it existed at the given date and time. Defaults to the most recent version. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$file</td><td>(optional) A file to retrieve the dissemination into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RespositoryException</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The response from Fedora with the contents of the datastream if file isn't set. Returns TRUE if the file parameter is passed. </dd></dl>

</div>
</div>
<a class="anchor" id="a931feb04842e1cc5377185590bc26106"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::getDissemination </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sdef_pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method_parameters</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a datastream dissemination from Fedora. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">String</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$sdef_pid</td><td>Persistent identifier of the sDef defining the methods. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$method</td><td>Method to invoke. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$method_parameters</td><td>A key-value paired array of parameters required by the method.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RespositoryException</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The response from Fedora. </dd></dl>

</div>
</div>
<a class="anchor" id="a25933bf598542c5f4d9526ef87b1d9c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::getObjectHistory </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the change history for the object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">String</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() An array containing the different revisions of the object. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">    [0] =&gt; 2011-07-08T18:01:40.384Z</div>
<div class="line">    [1] =&gt; 2011-07-08T18:01:40.464Z</div>
<div class="line">    [2] =&gt; 2011-07-08T18:01:40.552Z</div>
<div class="line">    [3] =&gt; 2011-07-08T18:01:40.694Z</div>
<div class="line">    [4] =&gt; 2012-02-22T15:07:15.305Z</div>
<div class="line">    [5] =&gt; 2012-02-29T14:20:28.857Z</div>
<div class="line">    [6] =&gt; 2012-02-29T14:22:18.239Z</div>
<div class="line">    [7] =&gt; 2012-02-29T14:22:46.545Z</div>
<div class="line">    [8] =&gt; 2012-02-29T20:52:33.069Z</div>
<div class="line">)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a0c037990c61315ebc482b224a12fc068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::getObjectProfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$as_of_date_time</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements the getObjectProfile Fedora API-A method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">String</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$as_of_date_time</td><td>(Optional) Indicates that the result should be relative to the digital object as it existed on the given date. Date Format: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() Returns information about the digital object. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">    [objLabel] =&gt; Islandora strict PDF content model</div>
<div class="line">    [objOwnerId] =&gt; fedoraAdminnnn</div>
<div class="line">    [objModels] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [0] =&gt; info:fedora/fedora-system:ContentModel-3.0</div>
<div class="line">            [1] =&gt; info:fedora/fedora-system:<a class="code" href="classFedoraObject.html" title="Represents a Fedora Object.">FedoraObject</a>-3.0</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [objCreateDate] =&gt; 2011-07-08T18:01:40.384Z</div>
<div class="line">    [objLastModDate] =&gt; 2012-03-02T20:50:13.534Z</div>
<div class="line">    [objDissIndexViewURL] =&gt; http:<span class="comment">//localhost:8080/fedora/objects/</span></div>
<div class="line">      islandora%3Astrict_pdf/methods/fedora-system%3A3/viewMethodIndex</div>
<div class="line">    [objItemIndexViewURL] =&gt; http:<span class="comment">//localhost:8080/fedora/objects/</span></div>
<div class="line">      islandora%3Astrict_pdf/methods/fedora-system%3A3/viewItemIndex</div>
<div class="line">    [objState] =&gt; A</div>
<div class="line">)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a551735de70c2c89b11a9e0c8d2f39929"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::listDatastreams </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$as_of_date_time</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List all the datastreams that are associated with this PID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$as_of_date_time</td><td>(optional) Indicates that the result should be relative to the digital object as it existed on the given date. Date Format: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() An associative array with the dsid of the datastreams as the key and the mimetype and label as the value. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">    [DC] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [label] =&gt; Dublin Core Record <span class="keywordflow">for</span> <span class="keyword">this</span> <span class="keywordtype">object</span></div>
<div class="line">            [mimetype] =&gt; text/xml</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [RELS-EXT] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [label] =&gt; Fedora Object-to-Object Relationship Metadata</div>
<div class="line">            [mimetype] =&gt; text/xml</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [ISLANDORACM] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [label] =&gt; ISLANDORACM</div>
<div class="line">            [mimetype] =&gt; text/xml</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a77a0ba60cbc3e599ec72a41260c214ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::listMethods </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sdef_pid</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$as_of_date_time</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements the listMethods Fedora API-A method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">String</td><td class="paramname">$pid</td><td>Persistent identifier of the digital object. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$sdef_pid</td><td>(Optional) Persistent identifier of the SDef defining the methods. </td></tr>
    <tr><td class="paramtype">String</td><td class="paramname">$as_of_date_time</td><td>(Optional) Indicates that the result should be relative to the digital object as it existed on the given date. Date Format: yyyy-MM-dd or yyyy-MM-ddTHH:mm:ssZ.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classRepositoryException.html" title="The top level exception for the Islandora Fedora API.">RepositoryException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() An array containing data about the methods that can be called. The result array is an associative array where the sdef pid is the key and the value is a indexed array of methods. <div class="fragment"><div class="line">Array</div>
<div class="line">(</div>
<div class="line">    [ilives:viewerSdef] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [0] =&gt; getViewer</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [ilives:jp2Sdef] =&gt; Array</div>
<div class="line">        (</div>
<div class="line">            [0] =&gt; getMetadata</div>
<div class="line">            [1] =&gt; getRegion</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">    [fedora-system:3] =&gt; Array</div>
<div class="line">       (</div>
<div class="line">            [0] =&gt; viewObjectProfile</div>
<div class="line">            [1] =&gt; viewMethodIndex</div>
<div class="line">            [2] =&gt; viewItemIndex</div>
<div class="line">            [3] =&gt; viewDublinCore</div>
<div class="line">        )</div>
<div class="line"></div>
<div class="line">)</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="accde22442ac4a85842a7b672bc34f207"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FedoraApiA::resumeFindObjects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a session key returned from findObject, this will return the next set of objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$session_token</td><td>Session token returned from previous search call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RespositoryException</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array() The result format is the same as findObjects.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classFedoraApiA.html#a014dc766356545761fe7c7bdad975457" title="Query fedora to return a list of objects.">FedoraApiA::findObjects</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="FedoraApi_8php.html">FedoraApi.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 12 2013 14:50:44 for IslandoraFedoraAPI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
